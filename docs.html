<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Docs - NatalEngine</title>
  <meta name="description" content="NatalEngine API documentation for Western Astrology, Human Design, and Gene Keys calculations.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/styles.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>%E2%97%89</text></svg>">
</head>
<body>
  <nav class="main-nav">
    <a href="./" class="nav-logo">natalengine</a>
    <div class="nav-links">
      <a href="./" class="nav-link">Calculator</a>
      <a href="./docs.html" class="nav-link active">Docs</a>
      <a href="./mcp.html" class="nav-link">MCP</a>
      <a href="https://github.com/Unforced-Dev/natal-engine" class="nav-link" target="_blank">GitHub</a>
    </div>
  </nav>

  <div class="page-container">
    <div class="page-header">
      <h1>Documentation</h1>
      <p>API reference for the natalengine library</p>
    </div>

    <section class="content-section">
      <h2>Installation</h2>
      <pre><code>npm install natalengine</code></pre>
    </section>

    <section class="content-section">
      <h2>Quick Start</h2>
      <pre><code>import {
  calculateAstrology,
  calculateHumanDesign,
  calculateGeneKeys
} from 'natalengine';

// Western Astrology
const astro = calculateAstrology(
  '1990-06-15',  // birth date (YYYY-MM-DD)
  14.5,          // birth hour (decimal, 14.5 = 2:30 PM)
  -5,            // timezone (UTC offset)
  40.7128,       // latitude
  -74.0060       // longitude
);

console.log(astro.bigThree);
// "♊ Gemini Sun, ♓ Pisces Moon, ♎ Libra Rising"

// Human Design
const hd = calculateHumanDesign('1990-06-15', 14.5, -5);
console.log(hd.type.name);  // "Generator"

// Gene Keys
const gk = calculateGeneKeys(hd);
console.log(gk.activationSequence.lifeWork.gift);  // "Discrimination"</code></pre>
    </section>

    <section class="content-section">
      <h2>calculateAstrology()</h2>
      <p>Calculate Western natal chart with planetary positions, aspects, and analysis.</p>

      <h3>Parameters</h3>
      <ul>
        <li><code>birthDate</code> (string) - Date in YYYY-MM-DD format</li>
        <li><code>birthHour</code> (number) - Decimal hours (14.5 = 2:30 PM)</li>
        <li><code>timezone</code> (number) - UTC offset (-5 for EST)</li>
        <li><code>latitude</code> (number, optional) - Required for accurate Rising</li>
        <li><code>longitude</code> (number, optional) - Required for accurate Rising</li>
      </ul>

      <h3>Returns</h3>
      <pre><code>{
  sun: { sign, degree, longitude },
  moon: { sign, degree, longitude },
  rising: { sign, degree, longitude, accurate },
  planets: {
    mercury, venus, mars, jupiter,
    saturn, uranus, neptune, pluto
  },
  nodes: { north, south },
  midheaven: { sign, degree, longitude },
  aspects: [
    { planet1, planet2, aspect, symbol, orb, nature }
  ],
  balance: {
    elements: { fire, earth, air, water },
    modalities: { cardinal, fixed, mutable },
    dominantElement,
    dominantModality
  },
  bigThree: "♊ Gemini Sun, ♓ Pisces Moon, ♎ Libra Rising"
}</code></pre>
    </section>

    <section class="content-section">
      <h2>calculateHumanDesign()</h2>
      <p>Calculate Human Design chart with Type, Strategy, Authority, and gate activations.</p>

      <h3>Parameters</h3>
      <ul>
        <li><code>birthDate</code> (string) - Date in YYYY-MM-DD format</li>
        <li><code>birthHour</code> (number) - Decimal hours</li>
        <li><code>timezone</code> (number) - UTC offset</li>
      </ul>

      <h3>Returns</h3>
      <pre><code>{
  type: {
    name: "Generator",
    strategy: "Wait to respond",
    signature: "Satisfaction",
    notSelf: "Frustration"
  },
  authority: {
    name: "Emotional Authority",
    description: "Wait through emotional wave"
  },
  profile: {
    numbers: "3/5",
    name: "Martyr/Heretic",
    theme: "Trial and error, universalizing"
  },
  incarnationCross: {
    name: "Right Angle Cross of Planning",
    gates: [40, 37, 9, 16]
  },
  centers: {
    defined: [{ name, theme, biological }],
    undefined: [{ name, theme, biological }]
  },
  gates: {
    personality: {
      sun, earth, moon, northNode, southNode,
      mercury, venus, mars, jupiter, saturn,
      uranus, neptune, pluto
    },
    design: { ... },
    all: [1, 2, 3, ...]
  },
  channels: [
    { gates: [41, 30], name: "Recognition", centers: [...] }
  ]
}</code></pre>
    </section>

    <section class="content-section">
      <h2>calculateGeneKeys()</h2>
      <p>Calculate Gene Keys profile from Human Design data.</p>

      <h3>Parameters</h3>
      <ul>
        <li><code>humanDesignData</code> (object) - Result from calculateHumanDesign()</li>
      </ul>

      <h3>Returns</h3>
      <pre><code>{
  activationSequence: {
    lifeWork: { key, line, sphere, shadow, gift, siddhi },
    evolution: { ... },
    radiance: { ... },
    purpose: { ... }
  },
  venusSequence: {
    attraction: { ... },
    iq: { ... },
    eq: { ... },
    sq: { ... }
  },
  pearlSequence: {
    vocation: { ... },
    culture: { ... },
    pearl: { ... }
  }
}</code></pre>
    </section>

    <section class="content-section">
      <h2>Accuracy</h2>
      <ul>
        <li>Planetary positions: VSOP87 via astronomy-engine (±1 arcminute)</li>
        <li>Ascendant: Calculated from local sidereal time</li>
        <li>Human Design: 88° solar arc for design calculation</li>
        <li>Aspects: Includes major (±8°) and minor (±2-3°) aspects</li>
      </ul>
    </section>

    <footer>
      <p><a href="https://github.com/Unforced-Dev/natal-engine" target="_blank">natalengine</a> is open source. MIT License.</p>
    </footer>
  </div>
</body>
</html>
